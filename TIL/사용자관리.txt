사용자 관리
- 사용자 계정이 있어야 시스템을 사용할 수 있음
	- 리눅스는 다중 사용자를 지원하는 운영체제
	- 사용자명 또는 로그인 아이디라고도 함
	- 사용자 계정은 유일한 UID를 가짐
- 관리자 입장에서 사용자 계정 별로 접근 권하을 통제할 수 있음
	- 사용자 계정에 따라 부여된 권한이 다름
	- 일반 계정은 자신의 홈 디렉터리를 제외하면 제한된 권한을 가짐
	- 일반 계정 외에 root 계정 (UID=0), 시스템 계정도 있음
- su 명령
	- 사용자를 전환시키는 명령
	- su [-[l]][username]
		- su -l jjpark 또는 su - jjpark 은 지정된 사용자의 '로그인셸'을 시작시킴
		- root 사용자가 아니라면 지정된 사용자의 암호를 알아야 실행시킬 수 있음
		- su -l 과 같이 사용자가 생략되면 root 사용자로 로그인 함
		- 단순히 su를 실행하면 로그인 셸이 아니며, 작업 디렉터리도 바뀌지 않음
- su 명령 2
	 - 1개의 셸 명령을 root 계정으로 실행하는 명령
	 - su -c 'command'
		- root 암호를 알아야 함
		- 여러 단어로 되어 있다면 명령 부분을 따옴표로 묶어야 함
- sudo 명령
	- root 또는 다른 사용자가 되어 명령을 실행하기 위한 명령
		- 특정 사용자나 그룹 별로 세세한 권한을 부여할 수 있음
		- 본인의 암호만 필요하며, root 계정의 암호를 요구하지 않음
		- 단, /etc/sudoers 파일에서 누가/어디서/어떤 명령을 수행할 수 있는지 설정 되어 있어야 함
	- sudo [-u username] command
		- 현재 셸에서 수행되므로 명령어 부분에 따옴표가 필요 없음
		- -u 옵션을 사용하명 root 사용자가 아닌 특정 사용자로 수행함
		- sudo -l 은 자신에게 sudo를 통해 허용된 명령을 확인할 수 있음
	- /etc/sudoers 파일
		- root 사용자가 visudo를 사용하여 편집함
			- 문법 오류를 검사하고 안전하게 편집할 수 있음
			- 기본 문법은 user MACHINE=COMMANDS의 형태
(2) 사용자 계정 만들기
	- useradd 명령(1)
		- 사용자 계정을 만드는 관리자 명령
		- useradd [options] username
			-useradd -c "Kim, Song" songkim 은 송김이라는 계정을 만듦
			- -c옵션은 계정의 설명을 주기 위한 것
			- passwd [username] 명령으로 비밀번호를 설정할 수 있음
		- useradd -D [options]
			- useradd -D 명령은 계정을 생성할 때 사용되는 홈 디렉터리 기본그룹, 만료일, 기본 셸 등에 관한 기본 설정을 보여줌
			- 다른 옵션을 사용하여 기본 설정을 변경할 수 있음
	- 사용자 계정의 생성 절차
		- /etc/login.defs 파일과 /e
	- /etc/passwd 파일
		- 사용자 계정에 관한 정보를 가진 텍스트 파일
			- 라인 별로 사용자 계정의 정보가 저장됨
			- 계정의 생성이나 수정을 위해 직접 수정하는 것은 좋지 않음
		- 각 라인은 콜론(:)으로 구분되는 7개의 필드를 가짐
		- 사용자계정:암호:UID:GID:설명:홈디렉터리:기본셸
	- /etc/skel 디렉터리
		- 사용자 홈 디렉터리에 복사되는 파일들을 가짐
		- .bash_profile, .bashrc, .bash_logout 등
	- /etc/shadow 파일
		- 사용자 계정은 암호 정보와 '패스워드 에이징' 정보를 가짐
		- 각 라인은 아래와 같은 정보를 가진
			- kdhonhg:$6$w8k<중간생략>:16922:0:99999:7:3::
	- 필드의 의미
		- 사용자 계정 : 암호화된비밀번호:최종비밀번호변경일:
		- 0은 비밀번호 변경 후 바꿀 수 없는 기간(minimum password age)
		- 99999는 비밀번호 변경 후 다시 변경하지 않고 사용할 수 있는 최대 기간
		- 7은 비밀번호 만료일 전에 경고를 보내는 날짜 수
		- 3은 비밀번호의 만료 후 로그인 가능한 날짜 수
		- 사용자 계정의 만료일로 빈 값은 계정이 만료되지 않는다는 것
		- 예약필드
	- change 명령
		- 사용자의 비밀번호 만료에 관한 정보를 변경하는 관리자 명령
		- change [options] username
			- chage -l username으로 자신의 패스워드 에이징 정보를 확인함
		- 옵션
			- -l days은 비밀번호 만료 후 비활성화 되기 전가지의 날짜 수 (-1은 사용하지 않음)
			- -m days와 -M days는 각각 비밀번호의 최소(0은 즉시 수정 가능) 와 최대 사용 날짜 수 (99999는 최대 날짜수)
			- -d date는 비밀번호의 마지막 변경 날짜를 수정
			- -E date는 사용자 계정의 만료일을 지정(-1은 사용하지 않음)
	- 사용자 계정의 기본 설정(1)
		- 사용자 계정을 생성할 때 필요한 기본값을 정의한 파일이 있음
		- /etc/login.defs 파일
			- 각 라인은 키워드와 값으로 구성됨
				- UID_MIN 과 UID_MAX는 UID를 자동 할당할 때 유효 범위를 지정
				- USERGROUPS_ENAB은 사용자 계정과 같은 이름의 그룹을 자동으로 만들 지를 지정
(3) 사용자 계정 수정
	- usermod 명령
		- 사용자 계정의 정보를 수정하는 관리자 명령
		- usermod [options] username
			- 많은 옵션이 useradd 명령과 유사함
			- usermod -g root kdhong은 주어진 사용자의 주 그룹을 root 그룹으로 변경함
			- id username 명령은 주어진 사용자의 uid와 gid 정보를 출력함
	- userdel 명령
		- 사용자 계정을 살제하는 관리자 명령
			- /etc/passwd 파일에서 해당 라인을 삭제함
		- userdel [options] username
		- 옵션
			- -r은 홈 디렉터리와 파일을 함께 삭제하고 메일 스풀도 삭제함
			- -f는 로그인 중이거나 다른 사용자가 사용 중이어도 삭제하며, 같은 이름의 그룹도 삭제함
	- 사용자 계정 삭제 시 고려사항
		- 홈 디렉터리도 삭제할 것인가
		- 계정을 삭제하지 말고 잠금 할 것인가
		- 삭제될 계정이 소유하는 파일이 또 있는가?
			- 삭제 전에 find / -user username -ls 로 확인해야 함
			- 삭제 후라면 find / -uid UID -ls 또는 find / -nouser -ls로 확인
	- 그룹 계정과 관리
		- 그룹 계정
			- 사용자의 계정들을 모아서 하나의 집합을 이루는 개념
				- 그룹의 구성원은 특정 파일(또는 디렉터리)에 대해 그룹에 부여된 권한을 가짐
				- 일반 사용자는 bin,mail,sys 등의 '시스템 정의 그룹'에는 포함될 수 없음
				- 사용자 계정을 만들 때 주 그룹(기본 그룹)이 지정됨
					- 기본적으로 사용자 계정과 같은 이름으로 그룹 계정이 만들어짐
				- 사용자 계정은 0개 이상의 부 그룹에 속할 수 있음
		- groupadd 명령
			- 그룹 계정을 만드는 관리자 명령
				- 그룹도 계정 이름과 GID를 가짐
			- groupadd [options] group
			- 옵션
				- -g gid는 수동으로 GID를 지정
				- -r은 시스템 그룹 계정을 생성
				- -o는 -g 옵션과 함께 사용할 때 기존 그룹의 GID를 사용하는 것
		- /etc/group 파일
			- 그룹 계정의 정보를 가진 텍스트 파일
				- 라인마다 그룹 계정의 정보가 저장됨
			- 각 라인은 콜론(:)으로 구분되는 4개의 필드를 가짐
			- 그룹계정:암호:GID:구성원_리스트
				- sales:x:1000:kdhong,jjpark
			- 암호화된 비밀번호는 /etc/gshadow에 저장됨
			- 사용자 계정을 부 그룹에 추가하는 방법
				- usermod -G groups -a username
			- 사용자가 자신의 그룹을 확인하는 방법
				- id username
				- groups username

